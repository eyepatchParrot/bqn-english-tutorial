Tan ← •math.Tan
w‿h‿fov ← 10‿7‿(π÷2)
c ← ⟨⟨ 0.2, 0.7, 0.8 ⟩   # background
     ⟨ 0.4, 0.4, 0.3 ⟩⟩  # foreground
l‿r2 ← ⟨ ¯3,0,¯16 ⟩‿(×˜2)

x‿y ← ⟨ h÷˜w×(Tan fov÷2)×  -⟜1 ÷⟜w 2×0.5+ h‿w⥊↕w
             (Tan fov÷2)×- -⟜1 ÷⟜h 2×0.5+⍉w‿h⥊↕h ⟩
dd ← x∾y≍(h‿w ⥊¯1)       # dirs de-normalized
dn ← ÷√+˝×˜ dd           # dirs norm factor
t ← +˝l× ×⟜dn⎉(=dn) dd
d2 ← r2<l+˝⊸-⟜⊢○(×˜) t
framebuffer ← ⊑⟜c¨ ¬d2 ∨ t (-∨○(<⟜0)+) √r2-d2

# _a ← {𝕩 𝔽⎉(= 𝕩) 𝕨}
# dd × _a dn
